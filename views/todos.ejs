<%- include('partials/header') -%>
    <div class="kanplan-board">
        <div class="kanplan-column-todo column">
            <h2 class="kanplan-column-title">ToDo</h2>
            <div class="kanplan-column-tasks">
                <% todos.forEach(el => {
                    if(el.status === 'todo') { %>
                        <li class="todoItem li-todo" data-id="<%= el._id %>">
                            <span class="todo"><%= el.title %></span>
                            <p class="todo-content"><%= el.content %></p>
                            <div class="icon-container">
                                <i class="fa-solid fa-pen-to-square" id="edit-button"></i>
                                <i class="fa-solid fa-delete-left" id="del"></i>
                            </div>
                        </li>

                        <div id="modal" class="modal">
                            <div class="modal-content">
                                <h3>Edit Content</h3>
                                <input type="text" id="edit-title" />
                                <textarea id="edit-content"></textarea>
                                <button id="save-button">Save Changes</button>
                            </div>
                        </div>
                    <% }
                }); %>
            </div>
            <form class="toDoForm" action="/todo/createTodo" method="POST">
                <input type="text" placeholder="Enter Todo Title" name="todoTitle">
                <input type="text" placeholder="Enter Todo Content" name="todoItem">
                <input type="submit" value="Add Item" class="submit">
            </form>
        </div>
        
        <div class="kanplan-column-doing column">
            <h2 class="kanplan-column-title">Doing</h2>
            <div class="kanplan-column-tasks">
                <% todos.forEach(el => {
                    if(el.status === 'doing') { %>
                        <li class="todoItem li-todo" data-id="<%= el._id %>">
                            <span class="doing"><%= el.title %></span>
                            <div class="icon-container">
                                <i class="fa-solid fa-pen-to-square" id="edit"></i>
                                <i class="fa-solid fa-delete-left" id="del"></i>
                            </div>
                        </li>
                    <% }
                }); %>
            </div>
        </div>
        
        <div class="kanplan-column-done column">
            <h2 class="kanplan-column-title">Done</h2>
            <div class="kanplan-column-tasks">
                <% todos.forEach(el => {
                    if(el.status === 'done') { %>
                        <li class="todoItem li-todo" data-id="<%= el._id %>">
                            <span class="done"><%= el.title %></span>
                            <div class="icon-container">
                                <i class="fa-solid fa-pen-to-square" id="edit"></i>
                                <i class="fa-solid fa-delete-left" id="del"></i>
                            </div>
                        </li>
                    <% }
                }); %>
            </div>
        </div>        
    </div>

    <%- include('partials/footer') -%>